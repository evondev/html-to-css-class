{"version":3,"sources":["webpack://generate-css-class/./src/extension.ts","webpack://generate-css-class/external \"vscode\"","webpack://generate-css-class/webpack/bootstrap","webpack://generate-css-class/webpack/startup"],"names":["splitAtFirstSpace","str","prefixer","i","indexOf","substring","convertToSass","content","filterClass","otherClass","index","length","element","regexIndex","regex","regexIndexOf","search","split","splice","join","includes","newStr","next","replace","prev","push","values","Object","entries","arr","obj","key","value","mergeArray","template","toString","a","trim","map","el","context","disposable","vscode","commands","registerCommand","editor","window","activeTextEditor","document","selection","selectionText","getText","classPattern","matchesClass","match","uniqueClass","Set","env","clipboard","writeText","showInformationMessage","arrWord","item","sassDisposable","word","className","allClass","flat","Infinity","generateClassName","subscriptions","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"mappings":"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","file":"extension.js","sourcesContent":["import * as vscode from \"vscode\";\n\nfunction regexIndexOf(string: string, regex: any, startpos?: number) {\n  var indexOf = string.substring(startpos || 0).search(regex);\n  return indexOf >= 0 ? indexOf + (startpos || 0) : indexOf;\n}\n\nfunction splitAtFirstSpace(str: string, prefixer: string): string[] {\n  if (!str) {\n    return [];\n  }\n  const i = str.indexOf(prefixer);\n  if (i > 0) {\n    return [str.substring(0, i), str.substring(i)];\n  } else {\n    return [str];\n  }\n}\n\nfunction mergeArray(arr: string[][]) {\n  let obj: Record<string, any> = {};\n  for (let i = 0; i < arr.length; i++) {\n    const key = arr[i][0];\n    const value = arr[i][1];\n    if (!(key in obj)) {\n      obj[key] = [value];\n    } else {\n      obj[key].push(value);\n    }\n  }\n  return obj;\n}\n\nfunction convertToSass(content: string[]) {\n  let filterClass = [];\n  let otherClass = [];\n  for (let index = 0; index < content.length; index++) {\n    const element = content[index];\n    let regexIndex = regexIndexOf(element, /[^.a-z\\s+\\{\\}]+/);\n    let prefixer = element.split(\"\").splice(regexIndex, 2).join(\"\");\n    if (!prefixer.includes(\"-\") && !prefixer.includes(\"_\")) {\n      prefixer = \"\";\n    }\n\n    let newStr = splitAtFirstSpace(element, prefixer);\n\n    if (!newStr[0].includes(\"{\")) {\n      filterClass.push(newStr);\n    } else if (newStr[0].includes(\"{\")) {\n      let next = content[index + 1]\n        .replace(\".\", \"\")\n        .replace(/\\s+/gm, \"\")\n        .replace(\"{}\", \"\");\n      let prev = newStr[0]\n        .replace(\".\", \"\")\n        .replace(/\\s+/gm, \"\")\n        .replace(\"{}\", \"\");\n      if (!next.includes(prev) && (next.includes(\"-\") || next.includes(\"_\"))) {\n        otherClass.push(newStr);\n      }\n    }\n  }\n  let values: any = Object.entries(mergeArray(filterClass));\n  let template = otherClass.join(\"\\n\").toString();\n  for (let index = 0; index < values.length; index++) {\n    const element = values[index];\n    let a: string[] = element[1];\n    if (template.trim().includes(element[0].trim())) {\n      template = template.replace(`${element[0]}{ }`, \"\");\n    }\n    template += `\\n${element[0]} {\\n${a.map((el) => `  &${el}`).join(\"\\n\")}\\n}`;\n  }\n  return template.trim();\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n  let disposable = vscode.commands.registerCommand(\n    \"generate-css-class.classCopy\",\n    async () => {\n      const editor = vscode.window.activeTextEditor;\n      if (editor) {\n        const { document, selection } = editor;\n        let selectionText = document.getText(selection);\n        const classPattern =\n          /(?:class|className)=(?:[\"']\\W+\\s*(?:\\w+)\\()?[\"']([^'\"]+)['\"]/gm;\n        const matchesClass = selectionText.match(classPattern);\n        if (matchesClass) {\n          const filterClass = matchesClass\n            .map(\n              (el) =>\n                `${el\n                  .replace(/\"/g, \"\")\n                  .replace(\"class=\", \"\")\n                  .replace(\"className=\", \"\")}`\n            )\n            .join(\" \")\n            .split(\" \")\n            .map((el) => `.${el}{\\n\\n}`);\n          let uniqueClass = [...new Set([...filterClass])];\n          vscode.env.clipboard.writeText(uniqueClass.join(\"\\n\"));\n          vscode.window.showInformationMessage(\n            \"Copied to clipboard successfully\"\n          );\n        } else {\n          let arrWord = selectionText\n            .replace(/\"/g, \"\")\n            .split(\" \")\n            .map((item) => `.${item}{\\n\\n}`);\n          let uniqueClass = [...new Set([...arrWord])];\n          vscode.env.clipboard.writeText(uniqueClass.join(\"\\n\"));\n          vscode.window.showInformationMessage(\n            \"Copied to clipboard successfully\"\n          );\n        }\n      }\n    }\n  );\n  let sassDisposable = vscode.commands.registerCommand(\n    \"generate-css-class.sassClassCopy\",\n    () => {\n      // code here\n      const editor = vscode.window.activeTextEditor;\n\n      if (editor) {\n        const document = editor.document;\n        const selection = editor.selection;\n        let word = document.getText(selection);\n        const classPattern =\n          /(?:class|className)=(?:[\"']\\W+\\s*(?:\\w+)\\()?[\"']([^'\"]+)['\"]/gm;\n        const className = word.match(classPattern);\n        if (className) {\n          let filterClassName = className.map(\n            (el) =>\n              `${el\n                .replace(/\"/g, \"\")\n                .replace(\"class=\", \"\")\n                .replace(\"className=\", \"\")}`\n          );\n          const arrClass = [...filterClassName].map((item) =>\n            item.split(\" \").length > 1 ? item.split(\" \") : item\n          );\n          const allClass = arrClass.flat(Infinity) as any;\n          let uniqueClass = [...new Set([...allClass])];\n          const generateClassName = uniqueClass.map((item) => `.${item}{\\n\\n}`);\n          vscode.env.clipboard.writeText(convertToSass(generateClassName));\n          vscode.window.showInformationMessage(\n            \"Copied to clipboard successfully\"\n          );\n        } else {\n          let filterClass = word\n            .split(\" \")\n            .map(\n              (el) =>\n                `${el\n                  .replace(/\"/g, \"\")\n                  .replace(\"class=\", \"\")\n                  .replace(\"className=\", \"\")}`\n            );\n          let uniqueClass = [...new Set([...filterClass])];\n          const generateClassName = uniqueClass.map((item) => `.${item}{\\n\\n}`);\n          vscode.env.clipboard.writeText(convertToSass(generateClassName));\n          vscode.window.showInformationMessage(\n            \"Copied to clipboard successfully\"\n          );\n        }\n      }\n    }\n  );\n\n  context.subscriptions.push(disposable, sassDisposable);\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n","module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(112);\n"],"sourceRoot":""}