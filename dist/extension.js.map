{"version":3,"sources":["webpack://generate-css-class/external \"vscode\"","webpack://generate-css-class/webpack/bootstrap","webpack://generate-css-class/./src/extension.ts"],"names":["module","exports","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","splitAtFirstSpace","str","prefixer","i","indexOf","substring","convertToSass","content","filterClass","otherClass","index","length","element","regexIndex","regex","regexIndexOf","search","split","splice","join","includes","newStr","next","replace","prev","push","values","Object","entries","arr","obj","key","value","mergeArray","template","toString","a","trim","map","el","flatDeep","d","reduce","acc","val","concat","Array","isArray","slice","context","disposable","vscode","commands","registerCommand","editor","window","activeTextEditor","document","selection","word","getText","classPattern","className","match","newClassName","newFlat","Set","item","filter","x","env","clipboard","writeText","arrWord","sassDisposable","flatClassName","y","subscriptions"],"mappings":"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","file":"extension.js","sourcesContent":["module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import * as vscode from \"vscode\";\n\nfunction regexIndexOf(string: string, regex: any, startpos?: number) {\n  var indexOf = string.substring(startpos || 0).search(regex);\n  return indexOf >= 0 ? indexOf + (startpos || 0) : indexOf;\n}\n\nfunction splitAtFirstSpace(str: string, prefixer: string): string[] {\n  if (!str) {\n    return [];\n  }\n  const i = str.indexOf(prefixer);\n  if (i > 0) {\n    return [str.substring(0, i), str.substring(i)];\n  } else {\n    return [str];\n  }\n}\n\nfunction mergeArray(arr: string[][]) {\n  let obj: Record<string, any> = {};\n  for (let i = 0; i < arr.length; i++) {\n    const key = arr[i][0];\n    const value = arr[i][1];\n    if (!(key in obj)) {\n      obj[key] = [value];\n    } else {\n      obj[key].push(value);\n    }\n  }\n  return obj;\n}\n\nfunction convertToSass(content: string[]) {\n  let filterClass = [];\n  let otherClass = [];\n  for (let index = 0; index < content.length; index++) {\n    const element = content[index];\n    let regexIndex = regexIndexOf(element, /[^.a-z\\s+\\{\\}]+/);\n    let prefixer = element.split(\"\").splice(regexIndex, 2).join(\"\");\n    if (!prefixer.includes(\"-\") && !prefixer.includes(\"_\")) {\n      prefixer = \"\";\n    }\n\n    let newStr = splitAtFirstSpace(element, prefixer);\n\n    if (!newStr[0].includes(\"{\")) {\n      filterClass.push(newStr);\n    } else if (newStr[0].includes(\"{\")) {\n      let next = content[index + 1]\n        .replace(\".\", \"\")\n        .replace(/\\s+/gm, \"\")\n        .replace(\"{}\", \"\");\n      let prev = newStr[0]\n        .replace(\".\", \"\")\n        .replace(/\\s+/gm, \"\")\n        .replace(\"{}\", \"\");\n      if (!next.includes(prev) && (next.includes(\"-\") || next.includes(\"_\"))) {\n        otherClass.push(newStr);\n      }\n    }\n  }\n  let values: any = Object.entries(mergeArray(filterClass));\n  let template = otherClass.join(\"\\n\").toString();\n  for (let index = 0; index < values.length; index++) {\n    const element = values[index];\n    let a: string[] = element[1];\n    if (template.trim().includes(element[0].trim())) {\n      template = template.replace(`${element[0]}{ }`, \"\");\n    }\n    template += `\\n${element[0]} {\\n${a.map((el) => `  &${el}`).join(\"\\n\")}\\n}`;\n  }\n  return template.trim();\n}\n\nfunction flatDeep(arr: any, d = 1) {\n  return d > 0\n    ? arr.reduce(\n        (acc: any, val: any) =>\n          acc.concat(Array.isArray(val) ? flatDeep(val, d - 1) : val),\n        []\n      )\n    : arr.slice();\n}\n\nexport function activate(context: vscode.ExtensionContext) {\n  let disposable = vscode.commands.registerCommand(\n    \"generate-css-class.classCopy\",\n    () => {\n      // code here\n      const editor = vscode.window.activeTextEditor;\n\n      if (editor) {\n        const document = editor.document;\n        const selection = editor.selection;\n        let word = document.getText(selection);\n        const classPattern =\n          /(?:class|className)=(?:[\"']\\W+\\s*(?:\\w+)\\()?[\"']([^'\"]+)['\"]/gm;\n        const className = word.match(classPattern);\n        if (className) {\n          let newClassName = className\n            .map(\n              (el) =>\n                `${el\n                  .replace(/\"/g, \"\")\n                  .replace(\"class=\", \"\")\n                  .replace(\"className=\", \"\")}`\n            )\n            .join(\" \")\n            .split(\" \")\n            .map((el) => `.${el}{\\n\\n}`);\n          let setClass = new Set([...newClassName]);\n          let flatClassName = [...setClass];\n          let newArr = flatClassName.map((item) =>\n            item.split(\" \").length > 1 ? item.split(\" \") : item\n          );\n          let newClassName2 = className\n            .map(\n              (el) =>\n                `.${el\n                  .replace(/\"/g, \"\")\n                  .replace(\"class=\", \"\")\n                  .replace(\"className=\", \"\")}`\n            )\n            .filter((item) => item.split(\" \").length > 1)\n            .map((item) => `${item.replace(/\\s+/gm, \".\")}{\\n\\n}`);\n          let newArr3 = [...newArr, ...newClassName2];\n          let newFlat = flatDeep(newArr3, 10);\n          let setClassFlat = new Set([...newFlat]);\n          let flatClassName2 = [...setClassFlat];\n          let x = [...flatClassName2].map((item) => `${item}`);\n          vscode.env.clipboard.writeText(x.join(\"\\n\"));\n        } else {\n          let arrWord = word.split(\" \").map((item) => `.${item}{\\n\\n}`);\n          let setClass = new Set([...arrWord]);\n          let flatClassName = [...setClass];\n          let newArr = flatClassName.map((item) =>\n            item.split(\" \").length > 1 ? item.split(\" \") : item\n          );\n          let newClassName2 =\n            word\n              .split(\" \")\n              .map((item) => `.${item.replace(/\\s+/gm, \".\")}`)\n              .join(\"\") + \"{\\n}\";\n          let newArr3 = [...newArr, newClassName2];\n          let newFlat = flatDeep(newArr3, 10);\n          let setClassFlat = new Set([...newFlat]);\n          let flatClassName2 = [...setClassFlat];\n          let x = [...flatClassName2].map((item) => `${item}`);\n          vscode.env.clipboard.writeText(x.join(\"\\n\"));\n        }\n      }\n    }\n  );\n  let sassDisposable = vscode.commands.registerCommand(\n    \"generate-css-class.sassClassCopy\",\n    () => {\n      // code here\n      const editor = vscode.window.activeTextEditor;\n\n      if (editor) {\n        const document = editor.document;\n        const selection = editor.selection;\n        let word = document.getText(selection);\n        const classPattern =\n          /(?:class|className)=(?:[\"']\\W+\\s*(?:\\w+)\\()?[\"']([^'\"]+)['\"]/gm;\n        const className = word.match(classPattern);\n        if (className) {\n          let newClassName = className.map(\n            (el) =>\n              `${el\n                .replace(/\"/g, \"\")\n                .replace(\"class=\", \"\")\n                .replace(\"className=\", \"\")}`\n          );\n          let setClass = new Set([...newClassName]);\n          let flatClassName = [...setClass];\n          let newArr = flatClassName.map((item) =>\n            item.split(\" \").length > 1 ? item.split(\" \") : item\n          );\n          let newArr2 = flatClassName\n            .filter((item) => item.split(\" \").length > 1)\n            .map((item) => `${item.replace(/\\s+/gm, \".\")}`);\n          let newArr3 = [...newArr, ...newArr2];\n          let newFlat = flatDeep(newArr3, 10);\n          let setClassFlat = new Set([...newFlat]);\n          let flatClassName2 = [...setClassFlat];\n          let x = [...flatClassName2].map((item) => `.${item}{\\n\\n}`);\n          let y = convertToSass(x);\n          vscode.env.clipboard.writeText(y);\n        } else {\n          let arrWord = word\n            .split(\" \")\n            .map(\n              (el) =>\n                `${el\n                  .replace(/\"/g, \"\")\n                  .replace(\"class=\", \"\")\n                  .replace(\"className=\", \"\")}`\n            );\n          let setClass = new Set([...arrWord]);\n          let flatClassName = [...setClass];\n          let newArr = flatClassName.map((item) =>\n            item.split(\" \").length > 1 ? item.split(\" \") : item\n          );\n          let newArr2 = word\n            .split(\" \")\n            .map((item) => `${item.replace(/\\s+/gm, \".\")}`)\n            .join(\".\");\n\n          let newArr3 = [...newArr, newArr2];\n          let newFlat = flatDeep(newArr3, 10);\n          let setClassFlat = new Set([...newFlat]);\n          let flatClassName2 = [...setClassFlat];\n          let x = [...flatClassName2].map((item) => `.${item}{ }`);\n          let y = convertToSass(x);\n          vscode.env.clipboard.writeText(y);\n        }\n      }\n    }\n  );\n\n  context.subscriptions.push(disposable, sassDisposable);\n}\n\n// this method is called when your extension is deactivated\nexport function deactivate() {}\n"],"sourceRoot":""}